{
  "schema": {
    "type": "object",
    "title": "Comment",
    "properties": {
      "questions": {
        "title": "Questions",
        "description": "Task's questions",
        "type": "array",
        "items": {
          "description": "Task's single question",
          "type": "object",
          "properties": {
            "question": {
              "title": "Question",
              "description": "Task's single question",
              "type": "string"
            },
            "questionImg": {
              "title": "Question image",
              "description": "Task's single question image",
              "type": "string",
              "upload": {
                "type": "single"
              }
            },
            "answers": {
              "title": "Answers",
              "description": "Task's question answers",
              "type": "array",
              "items": {
                "description": "Task's question single answer",
                "type": "object",
                "properties": {
                  "answer": {
                    "title": "Answer",
                    "description": "Task's question single answer",
                    "type": "string"
                  },
                  "answerImg": {
                    "title": "Answer image",
                    "description": "Task's question single image answer",
                    "type": "string",
                    "upload": {
                      "type": "single"
                    }
                  },
                  "isCorrect": {
                    "title": "Is correct?",
                    "description": "Is this answer correct?",
                    "type": "boolean",
                    "default": false
                  }
                },
                "anyOf": [
                  {
                    "required": [
                      "answer"
                    ]
                  },
                  {
                    "required": [
                      "answerImg"
                    ]
                  }
                ]
              },
              "minItems": 1
            }
          },
          "anyOf": [
            {
              "required": [
                "question",
                "answers"
              ]
            },
            {
              "required": [
                "questionImg",
                "answers"
              ]
            }
          ]
        },
        "minItems": 1
      }
    }
  },
  "form": [
    {
      "type": "help",
      "helpvalue": "<h4>Tabbed Array Example</h4><p>Tab arrays can have tabs to the left, top or right.</p>"
    },
    {
      "key": "questions",
      "type": "tabarray",
      "add": "New",
      "remove": "Delete",
      "style": {
        "remove": "btn-danger"
      },
      "title": "{{ value.name || 'Question '+$index }}",
      "items": [
        "questions[].question",
        "questions[].questionImg",
        {
          "key": "questions[].answers",
          "type": "tabarray",
          "add": "New",
          "remove": "Delete",
          "style": {
            "remove": "btn-danger"
          },
          "title": "{{ value.name || 'Answer '+$index }}",
          "items": [
            "questions[].answers[].answer",
            "questions[].answers[].answerImg",
            {
              "key": "questions[].answers[].isCorrect",
              "type": "checkbox"
            }
          ]
        }
      ]
    },
    {
      "type": "submit",
      "style": "btn-default",
      "title": "OK"
    }
  ]
}
